(function(t,e,i){"use strict";var n={index:0,initialized:false},o={init:function(i){return this.each(function(){n=t.extend(n,i);n.$w=t(e),n.$topbar=t("nav.top-bar"),n.$section=n.$topbar.find("section"),n.$titlebar=n.$topbar.children("ul:first");var s=t("<div class='top-bar-js-breakpoint'/>").appendTo("body");n.breakPoint=s.width();s.remove();if(!n.initialized){o.assemble();n.initialized=true}if(!n.height){o.largestUL()}if(n.$topbar.parent().hasClass("fixed")){t("body").css("padding-top",n.$topbar.outerHeight())}t(".top-bar .toggle-topbar").off("click.fndtn").on("click.fndtn",function(t){t.preventDefault();if(o.breakpoint()){n.$topbar.toggleClass("expanded");n.$topbar.css("min-height","")}if(!n.$topbar.hasClass("expanded")){n.$section.css({left:"0%"});n.$section.find(">.name").css({left:"100%"});n.$section.find("li.moved").removeClass("moved");n.index=0}});t(".top-bar .has-dropdown>a").off("click.fndtn").on("click.fndtn",function(e){if(Modernizr.touch||o.breakpoint())e.preventDefault();if(o.breakpoint()){var i=t(this),s=i.closest("li");n.index+=1;s.addClass("moved");n.$section.css({left:-(100*n.index)+"%"});n.$section.find(">.name").css({left:100*n.index+"%"});i.siblings("ul").height(n.height+n.$titlebar.outerHeight(true));n.$topbar.css("min-height",n.height+n.$titlebar.outerHeight(true)*2)}});t(e).on("resize.fndtn.topbar",function(){if(!o.breakpoint()){n.$topbar.css("min-height","")}});t(".top-bar .has-dropdown .back").off("click.fndtn").on("click.fndtn",function(e){e.preventDefault();var i=t(this),o=i.closest("li.moved"),s=o.parent();n.index-=1;n.$section.css({left:-(100*n.index)+"%"});n.$section.find(">.name").css({left:100*n.index+"%"});if(n.index===0){n.$topbar.css("min-height",0)}setTimeout(function(){o.removeClass("moved")},300)})})},breakpoint:function(){return n.$w.width()<n.breakPoint},assemble:function(){n.$section.detach();n.$section.find(".has-dropdown>a").each(function(){var e=t(this),i=e.siblings(".dropdown"),n=t('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');n.find("h5>a").html(e.html());i.prepend(n)});n.$section.appendTo(n.$topbar)},largestUL:function(){var e=n.$topbar.find("section ul ul"),i=e.first(),o=0;e.each(function(){if(t(this).children("li").length>i.children("li").length){i=t(this)}});i.children("li").each(function(){o+=t(this).outerHeight(true)});n.height=o}};t.fn.foundationTopBar=function(e){if(o[e]){return o[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return o.init.apply(this,arguments)}else{t.error("Method "+e+" does not exist on jQuery.foundationTopBar")}};if(t(".sticky").length>0){var s=t(".sticky").length?t(".sticky").offset().top:0,a=t(e);a.scroll(function(){if(a.scrollTop()>=s){t(".sticky").addClass("fixed")}else if(a.scrollTop()<s){t(".sticky").removeClass("fixed")}})}})(jQuery,this);