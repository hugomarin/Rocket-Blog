(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e,t){var n=6,i=e.event.add,a=e.event.remove,r=function(t,n,i){e.event.trigger(n,i,t)},o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)}}(),u={textarea:true,input:true,select:true,button:true},c={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},d={move:"touchmove",cancel:"touchend",end:"touchend"};function f(e){var t=e,n=false,i=false;function a(e){if(n){t();o(a);i=true;n=false}else{i=false}}this.kick=function(e){n=true;if(!i){a()}};this.end=function(e){var a=t;if(!e){return}if(!i){e()}else{t=n?function(){a();e()}:e;n=true}}}function m(){return true}function s(){return false}function v(e){e.preventDefault()}function g(e){if(u[e.target.tagName.toLowerCase()]){return}e.preventDefault()}function p(e){return e.which===1&&!e.ctrlKey&&!e.altKey}function l(e,t){var n,i;if(e.identifiedTouch){return e.identifiedTouch(t)}n=-1;i=e.length;while(++n<i){if(e[n].identifier===t){return e[n]}}}function h(e,t){var n=l(e.changedTouches,t.identifier);if(!n){return}if(n.pageX===t.pageX&&n.pageY===t.pageY){return}return n}function X(e){var t;if(!p(e)){return}t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp};i(document,c.move,Y,t);i(document,c.cancel,w,t)}function Y(e){var t=e.data;q(e,t,e,y)}function w(e){y()}function y(){a(document,c.move,Y);a(document,c.cancel,y)}function T(e){var t,n;if(u[e.target.tagName.toLowerCase()]){return}t=e.changedTouches[0];n={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier};i(document,d.move+"."+t.identifier,S,n);i(document,d.cancel+"."+t.identifier,k,n)}function S(e){var t=e.data,n=h(e,t);if(!n){return}q(e,t,n,_)}function k(e){var t=e.data,n=l(e.changedTouches,t.identifier);if(!n){return}_(t.identifier)}function _(e){a(document,"."+e,S);a(document,"."+e,k)}function q(e,t,i,a){var r=i.pageX-t.startX,o=i.pageY-t.startY;if(r*r+o*o<n*n){return}F(e,t,i,r,o,a)}function A(){this._handled=m;return false}function D(e){e._handled()}function F(e,t,n,i,a,o){var u=t.target,c,d;c=e.targetTouches;d=e.timeStamp-t.timeStamp;t.type="movestart";t.distX=i;t.distY=a;t.deltaX=i;t.deltaY=a;t.pageX=n.pageX;t.pageY=n.pageY;t.velocityX=i/d;t.velocityY=a/d;t.targetTouches=c;t.finger=c?c.length:1;t._handled=A;t._preventTouchmoveDefault=function(){e.preventDefault()};r(t.target,t);o(t.identifier)}function R(e){var t=e.data.event,n=e.data.timer;L(t,e,e.timeStamp,n)}function x(e){var t=e.data.event,n=e.data.timer;b();N(t,n,function(){setTimeout(function(){a(t.target,"click",s)},0)})}function b(e){a(document,c.move,R);a(document,c.end,x)}function j(e){var t=e.data.event,n=e.data.timer,i=h(e,t);if(!i){return}e.preventDefault();t.targetTouches=e.targetTouches;L(t,i,e.timeStamp,n)}function C(e){var t=e.data.event,n=e.data.timer,i=l(e.changedTouches,t.identifier);if(!i){return}K(t);N(t,n)}function K(e){a(document,"."+e.identifier,j);a(document,"."+e.identifier,C)}function L(e,t,n,i){var a=n-e.timeStamp;e.type="move";e.distX=t.pageX-e.startX;e.distY=t.pageY-e.startY;e.deltaX=t.pageX-e.pageX;e.deltaY=t.pageY-e.pageY;e.velocityX=.3*e.velocityX+.7*e.deltaX/a;e.velocityY=.3*e.velocityY+.7*e.deltaY/a;e.pageX=t.pageX;e.pageY=t.pageY;i.kick()}function N(e,t,n){t.end(function(){e.type="moveend";r(e.target,e);return n&&n()})}function O(e,t,n){i(this,"movestart.move",D);return true}function z(e){a(this,"dragstart drag",v);a(this,"mousedown touchstart",g);a(this,"movestart",D);return true}function Q(e){if(e.namespace==="move"||e.namespace==="moveend"){return}i(this,"dragstart."+e.guid+" drag."+e.guid,v,t,e.selector);i(this,"mousedown."+e.guid,g,t,e.selector)}function B(e){if(e.namespace==="move"||e.namespace==="moveend"){return}a(this,"dragstart."+e.guid+" drag."+e.guid);a(this,"mousedown."+e.guid)}e.event.special.movestart={setup:O,teardown:z,add:Q,remove:B,_default:function(e){var n,a;if(!e._handled()){return}n={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger};a={event:n,timer:new f(function(t){r(e.target,n)})};if(e.identifier===t){i(e.target,"click",s);i(document,c.move,R,a);i(document,c.end,x,a)}else{e._preventTouchmoveDefault();i(document,d.move+"."+e.identifier,j,a);i(document,d.end+"."+e.identifier,C,a)}}};e.event.special.move={setup:function(){i(this,"movestart.move",e.noop)},teardown:function(){a(this,"movestart.move",e.noop)}};e.event.special.moveend={setup:function(){i(this,"movestart.moveend",e.noop)},teardown:function(){a(this,"movestart.moveend",e.noop)}};i(document,"mousedown.move",X);i(document,"touchstart.move",T);if(typeof Array.prototype.indexOf==="function"){(function(e,t){var n=["changedTouches","targetTouches"],i=n.length;while(i--){if(e.event.props.indexOf(n[i])===-1){e.event.props.push(n[i])}}})(e)}});